doctype html
html
  head
    meta(charset="UTF-8")
    title= title
    link(rel="stylesheet", href="/stylesheets/home.css")
  body
  p Logged in as: #{sessionUserId}

    .explore-container
      // LEFT NAVIGATION
      nav.left-nav
        h2.logo Peerly
        ul.nav-list
          li.nav-item
            .icon-circle ℹ
            a(href="/api/home") Home
          li.nav-item 
            .icon-circle ℹ
            a(href="/api/users") Explore
          li.nav-item 
            .icon-circle ℹ
            span Messages
          li.nav-item 
            .icon-circle ℹ
            span Notifications
          li.nav-item
            .icon-circle ℹ
            if sessionUserId
              a(href=`/api/users/${sessionUserId}`) Profile
          li.nav-item
            .icon-circle ℹ
            if sessionUserId
              a(href=`/api/users/${sessionUserId}/settings`) Settings
          button.post-btn(onclick="window.location.href='/api/home/create/Post'") Post

      // MIDDLE CONTENT
      main.main-feed
        .top-bar
          .tag-buttons
            each tag in tags || []
              button.tag-btn(onclick=`window.location.replace('/api/tags/tags?tags=${tag.tag_id}')`)= tag.tag_name
          button.filter-btn Filters

        // Posts container
        .post-grid
          if posts && posts.length > 0
            each post in posts
              a.post-card(href=`/api/home/${post.post_id}`, style="display: block; text-decoration: none; color: inherit; cursor: pointer;")
                .post-header
                  .avatar-circle
                    if post.profile_picture
                      img(src=post.profile_picture, alt=post.first_name + ' ' + post.last_name)
                    else
                      | #{post.first_name ? post.first_name[0] : ''}#{post.last_name ? post.last_name[0] : ''}
                  .post-user
                    h3= post.first_name + ' ' + post.last_name
                    p= 'Posted At: ' + post.created_at
                .post-body
                  if post.media_url
                    img.post-media(src=post.media_url, alt="Post Media")
                  p= post.description
                .post-footer
                  button.like-btn
                    .icon-circle X
                    span Like
                  button.comment-btn
                    .icon-circle X
                    span Comment
          else
            p No posts associated with this tag

      // RIGHT SIDEBAR
      aside.right-sidebar
        .search-box
          form(action="/api/home/posts/search", method="GET")
            .icon-circle X
            input(type="text", name="q", placeholder="Search posts...", required)
           

        .widget
          h3 See what's trending
          ul
            li Lorem ipsum dolor
            li Lorem ipsum dolor
            li Lorem ipsum dolor
        .widget
          h3 Chat
          ul
            li
              .icon-circle X
              span Account Name
